[pytest]
# Test discovery patterns
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# Test directories
testpaths = tests

# Output options
addopts =
    # Verbose output
    -v
    # Show extra test summary info
    -ra
    # Show local variables in tracebacks
    -l
    # Strict markers - fail on unknown markers
    --strict-markers
    # Coverage options
    --cov=app
    --cov-report=html
    --cov-report=xml
    --cov-report=term-missing
    # Fail if coverage is below threshold (60%)
    --cov-fail-under=60
    # Show warnings
    -W default

# Custom markers for test categorization
markers =
    unit: Unit tests for individual components
    integration: Integration tests for API endpoints and workflows
    fuzzing: Fuzzing tests for robustness and edge cases
    slow: Tests that take longer to execute
    llm: Tests that require real LLM API calls
    requires_api_key: Tests that need valid API credentials
    llm_evaluation: LLM quality evaluation tests that measure accuracy against ground truth

# Async test configuration
asyncio_mode = auto

# Minimum Python version
minversion = 7.4

# Test output
console_output_style = progress

# Disable cacheprovider for cleaner test runs
# Can be removed if you want pytest to cache test results
